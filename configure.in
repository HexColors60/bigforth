dln this is a really minimal autoconf file

AC_INIT([bigforth],[2.3.0],[http://sourceforge.net/tracker/?atid=101028&group_id=1028&func=browse])
AC_CANONICAL_HOST
AC_PROG_CC

case "$host_os" in
	*win32|cygwin)
		EXTFLAGS="-mno-cygwin"
		WINDOWS="-mwindows"
		ARCHFLAGS=""
		INI="bigforth.ini"
		XINI="xbigforth.ini"
		ARCH="win32"
		;;
	*bsd)
		EXTFLAGS="-DBSD"
		WINDOWS=""
		ARCHFLAGS=""
		INI=".bigforthrc"
		XINI=".xbigforthrc"
		ARCH="bsd"
		;;
	linux)
		EXTFLAGS=""
		WINDOWS=""
		ARCHFLAGS=""
		INI=".bigforthrc"
		XINI=".xbigforthrc"
		ARCH="lin"
		;;
	darwin*)
		EXTFLAGS=""
		WINDOWS=""
		ARCHFLAGS=""
		INI=".bigforthrc"
		XINI=".xbigforthrc"
		ARCH="osx"
		;;
	*)
		EXTFLAGS=""
		WINDOWS=""
		ARCHFLAGS=""
		INI=".bigforthrc"
		XINI=".xbigforthrc"
		ARCH="lin"
		;;
esac

case "$host_cpu" in
	*x86_64*)
		ARCHFLAGS="-m32"
		;;
esac

ln -s forthker-$ARCH.fi forthker.fi

test "x$prefix" = xNONE && prefix=$ac_default_prefix
exec_prefix=$prefix
eval libdirpath=$libdir

AC_CHECK_LIB(dl,dlopen)
AC_SUBST(EXTFLAGS)
AC_SUBST(ARCHFLAGS)
AC_SUBST(WINDOWS)
AC_SUBST(libdirpath)
AC_SUBST(INI)
AC_SUBST(XINI)
AC_SUBST(ARCH)

AC_OUTPUT(Makefile $INI $XINI)
